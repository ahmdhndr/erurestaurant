!function(n){function t(t){for(var r,o,s=t[0],u=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(n[r]=u[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var n,t=0;t<i.length;t++){for(var e=i[t],r=!0,s=1;s<e.length;s++){var u=e[s];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),n=o(o.s=e[0]))}return n}var r={},a={0:0},i=[];function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(n,t,e){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)o.d(e,r,function(t){return n[t]}.bind(null,r));return e},o.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([12,2,1]),e()}([,,,,,,,function(n,t,e){var r=e(2),a=e(8);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[n.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);n.exports=a.locals||{}},function(n,t,e){(t=e(3)(!1)).push([n.i,"* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: 'Poppins', sans-serif;\n  display: grid;\n  width: 100%;\n  height: 100%;\n  color: #1b1a17;\n}\n\nimg {\n  display: block;\n}\n\nli {\n  list-style-type: none;\n}\n\na {\n  text-decoration: none;\n}\n\n.skip-link {\n  position: absolute;\n  top: -50px;\n  background: #1b1a17;\n  color: #f0a500;\n  padding: 8px;\n  border-radius: 4px;\n  z-index: 100;\n}\n\n.skip-link:focus {\n  top: 0;\n}\n\n/* Header */\n.header-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: #f0a500;\n  padding: 10px 20px;\n  width: 100%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  position: sticky;\n  top: 0;\n  left: 0;\n}\n\n.header-bar > .header-bar__title {\n  font-size: 26px;\n  font-family: 'Lato', sans-serif;\n  font-weight: 700;\n  user-select: none;\n  color: #1b1a17;\n}\n\n.header-bar > .hamburger-btn {\n  display: block;\n  border: 0;\n  background-color: transparent;\n}\n.header-bar > .hamburger-btn > svg {\n  display: block;\n  fill: #1b1a17;\n  margin: 0;\n}\n\n/* Nav */\n.nav-menu {\n  background: #f0a500;\n  max-width: 350px;\n  width: 100%;\n  position: fixed;\n  top: 63px;\n  transform: translate(-350px, 0);\n  transition: transform 300ms ease;\n}\n.nav-menu.show {\n  transform: translate(0, 0);\n}\n\n.nav-menu > .nav-menu__list {\n  display: grid;\n}\n\n.nav-menu > .nav-menu__list > .nav-menu__item {\n  text-align: center;\n  font-size: 20px;\n  padding: 10px 0;\n}\n\n.nav-menu > .nav-menu__list > .nav-menu__item:nth-child(even) {\n  border-top: 2px solid #1b1a17;\n  border-bottom: 2px solid #1b1a17;\n}\n\n.nav-menu > .nav-menu__list > .nav-menu__item a {\n  color: #1b1a17;\n  display: block;\n  padding: 10px;\n}\n\n/* Hero */\n.hero {\n  width: 100%;\n  margin: 0 auto;\n  overflow: hidden;\n}\n\n.hero > .hero__image img {\n  width: 100%;\n  aspect-ratio: unset;\n  object-fit: cover;\n  object-position: center;\n}\n\n/* Main */\nmain {\n  /* max-width: 950px; */\n  width: 100%;\n  min-height: 100vh;\n  margin: 0 auto;\n  padding: 20px 30px;\n}\n\nmain > .main__title {\n  font-size: 22px;\n  margin-bottom: 20px;\n  font-weight: 400;\n  text-align: center;\n}\n\nmain > .content > .restaurant-list {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  gap: 30px;\n}\n\nmain > .content > .restaurant-list > .restaurant-list__item {\n  box-shadow: 2px 5px 10px 0 rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  border-radius: 8px;\n}\n\nmain > .content > .restaurant-list > .restaurant-list__item > .restaurant-figure > img {\n  width: 100%;\n  display: block;\n  aspect-ratio: 16 / 9;\n  object-fit: cover;\n  object-position: center;\n}\n\nmain > .content > .restaurant-list > .restaurant-list__item > .restaurant-content {\n  padding: 20px;\n}\n\nmain\n  > .content\n  > .restaurant-list\n  > .restaurant-list__item\n  > .restaurant-content\n  > .restaurant-content__text {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\nmain\n  > .content\n  > .restaurant-list\n  > .restaurant-list__item\n  > .restaurant-content\n  > .restaurant-content__text\n  > .rating {\n  background: #1b1a17;\n  color: #f0a500;\n  padding: 5px;\n  border-radius: 5px;\n  font-weight: 600;\n}\n\nmain\n  > .content\n  > .restaurant-list\n  > .restaurant-list__item\n  > .restaurant-content\n  > .restaurant-content__text\n  > .rating\n  > span {\n  vertical-align: middle;\n}\n\nmain\n  > .content\n  > .restaurant-list\n  > .restaurant-list__item\n  > .restaurant-content\n  > .restaurant-content__title {\n  font-size: 20px;\n}\n\nmain\n  > .content\n  > .restaurant-list\n  > .restaurant-list__item\n  > .restaurant-content\n  > .restaurant-content__description {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  line-clamp: 4;\n  -webkit-box-orient: vertical;\n}\n\nmain > .content > .restaurant-list > .restaurant-list__item > .restaurant-detail__btn {\n  background: #f0a500;\n  text-align: center;\n}\n\nmain > .content > .restaurant-list > .restaurant-list__item > .restaurant-detail__btn > a {\n  padding: 20px;\n  display: block;\n  color: #1b1a17;\n  font-weight: 600;\n  font-size: 18px;\n  transition: color 300ms, background 300ms;\n}\n\nmain > .content > .restaurant-list > .restaurant-list__item > .restaurant-detail__btn > a:hover {\n  background: #1b1a17;\n  color: #f0a500;\n}\n\nmain > .content > h2 {\n  text-align: center;\n  margin-bottom: 10px;\n  font-size: 36px;\n}\n\nmain > .content > .restaurant-content__thumbnail > img {\n  width: 100%;\n  aspect-ratio: 16/9;\n  object-fit: cover;\n  object-position: center;\n  margin: 20px 0;\n}\n\nmain > .content > .restaurant-content__info {\n  max-width: 750px;\n  width: 100%;\n  margin: 0 auto;\n}\n\nmain > .content > .restaurant-content__info > h3 {\n  margin: 10px 0;\n}\n\nmain > .content > .restaurant-content__info > .menu {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  justify-content: center;\n  text-align: center;\n  vertical-align: middle;\n  margin: 10px 0;\n}\n\nmain > .content > .restaurant-content__info > .menu > h4 {\n  padding: 5px;\n  border: 1px solid #1b1a17;\n  border-radius: 5px;\n  font-weight: 600;\n}\n\nmain > .content > .restaurant-content__info > .review {\n  max-width: 500px;\n  width: 100%;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n  background: rgba(240, 165, 0, 0.8);\n  border-radius: 5px;\n  padding: 10px;\n  margin-top: 10px;\n}\n\nmain > .restaurant-link {\n  margin: 30px 0 10px 0;\n}\n\nmain > .restaurant-link > a {\n  border-radius: 5px;\n  padding: 12px;\n  background: #f0a500;\n  color: #1b1a17;\n}\n\n/* Footer */\nfooter {\n  background: #f0a500;\n  padding: 10px 20px;\n  color: #1b1a17;\n  text-align: center;\n}\n\nfooter > p {\n  font-size: 14px;\n  margin: 10px 0;\n}\n\nfooter > p > a {\n  text-decoration: underline;\n  color: #1b1a17;\n  padding: 12px 0;\n}\n\n/* Like */\n.like {\n  font-size: 18px;\n  position: fixed;\n  bottom: 16px;\n  right: 16px;\n  background-color: #f0a500;\n  color: #1b1a17;\n  border: 0;\n  border-radius: 50%;\n  width: 55px;\n  height: 55px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* Input Search */\n.search-container {\n  width: 100%;\n  text-align: right;\n  margin-bottom: 10px;\n}\n\n.search-container > .input-search {\n  padding: 10px;\n  border-radius: 5px;\n  border: 1px solid #f0a500;\n  font-size: 18px;\n  max-width: 400px;\n  width: 100%;\n}\n\n/* skeleton */\n.skeleton-container {\n  max-width: 365px;\n  box-shadow: 2px 5px 10px 0 rgba(0, 0, 0, 0.1);\n  background: #ffffff;\n  overflow: hidden;\n  border-radius: 5px;\n}\n\n.skeleton-container > .skeleton-image > img {\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n  object-position: center;\n}\n\n.skeleton-container > .skeleton-content {\n  padding: 20px;\n}\n\n.skeleton-container > .skeleton-content > .skeleton-header {\n  width: 70%;\n  height: 30px;\n  background: #eee;\n}\n\n.skeleton-container > .skeleton-content > .skeleton-desc {\n  width: 100%;\n  height: 30px;\n  background: #eee;\n  margin: 10px 0;\n}\n",""]),n.exports=t},function(n,t,e){var r=e(2),a=e(10);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[n.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);n.exports=a.locals||{}},function(n,t,e){(t=e(3)(!1)).push([n.i,"@media screen and (min-width: 768px) {\n  /* Header */\n  .header-bar > .hamburger-btn {\n    display: none;\n  }\n\n  /* Hero */\n  .hero > .hero__image img {\n    aspect-ratio: 16/9;\n  }\n\n  /* Nav */\n  .nav-menu {\n    max-width: 1000px;\n    right: 0;\n  }\n\n  .nav-menu {\n    top: 4px;\n    right: 0;\n    transform: translate(0, 0);\n    background: transparent;\n  }\n\n  .nav-menu > .nav-menu__list {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  .nav-menu > .nav-menu__list > .nav-menu__item {\n    font-size: 16px;\n    padding: 0;\n    margin-right: 20px;\n  }\n\n  .nav-menu > .nav-menu__list > .nav-menu__item:nth-child(even) {\n    border: transparent;\n  }\n\n  /* Main */\n  main > .content > .restaurant-list {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media screen and (min-width: 1000px) {\n  /* Nav */\n  .nav-menu {\n    top: 2px;\n  }\n  .nav-menu > .nav-menu__list > .nav-menu__item {\n    font-size: 18px;\n  }\n\n  /* Main */\n  main > .content > .restaurant-list {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n@media screen and (min-width: 1200px) {\n  /* Hero */\n  .hero {\n    margin: 0 auto;\n    max-width: 1000px;\n  }\n\n  /* Main */\n  main > .content > .restaurant-list {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n",""]),n.exports=t},,function(n,t,e){"use strict";e.r(t);e(6),e(7),e(9);var r=e(4),a=e.n(r);function i(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}var o=function(){var n,t=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("serviceWorker"in navigator)){n.next=4;break}return n.next=3,a.a.register();case 3:return n.abrupt("return");case 4:console.log("Service worker not supported in this browser");case 5:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function s(n){i(o,r,a,s,u,"next",n)}function u(n){i(o,r,a,s,u,"throw",n)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),s={init:function(n){var t=this,e=n.button,r=n.drawer,a=n.content;e.addEventListener("click",(function(n){t._toggleDrawer(n,r)})),a.addEventListener("click",(function(n){t._closeDrawer(n,r)}))},_toggleDrawer:function(n,t){n.stopPropagation(),t.classList.toggle("show")},_closeDrawer:function(n,t){n.stopPropagation(),t.classList.remove("show")}},u={parseActiveUrlWithCombiner:function(){var n=window.location.hash.slice(1).toLowerCase(),t=this._urlSplitter(n);return this._urlCombiner(t)},parseActiveUrlWithoutCombiner:function(){var n=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(n)},_urlSplitter:function(n){var t=n.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},_urlCombiner:function(n){return(n.resource?"/".concat(n.resource):"/")+(n.id?"/:id":"")+(n.verb?"/".concat(n.verb):"")}},c={SERVER_URL:"https://restaurant-api.dicoding.dev",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images",CACHE_NAME:"EruRestaurant-".concat(+new Date),DATABASE_NAME:"eru-restaurant-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"restaurants"},l={LIST_RESTAURANT:"".concat(c.SERVER_URL,"/list"),DETAIL:function(n){return"".concat(c.SERVER_URL,"/detail/").concat(n)}};function d(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function p(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){d(i,r,a,o,s,"next",n)}function s(n){d(i,r,a,o,s,"throw",n)}o(void 0)}))}}function f(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var v=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,r,a,i;return t=n,e=null,r=[{key:"listRestaurants",value:(i=p(regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(l.LIST_RESTAURANT);case 2:return t=n.sent,n.next=5,t.json();case 5:return e=n.sent,n.abrupt("return",e.restaurants);case 7:case"end":return n.stop()}}),n)}))),function(){return i.apply(this,arguments)})},{key:"detailRestaurant",value:(a=p(regeneratorRuntime.mark((function n(t){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(l.DETAIL(t));case 2:return e=n.sent,n.abrupt("return",e.json());case 4:case"end":return n.stop()}}),n)}))),function(n){return a.apply(this,arguments)})}],e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),m=function(n){var t=n.restaurant,e=n.foods,r=n.drinks,a=n.customerReviews;return'\n  <h2 class="restaurant-content__title">'.concat(t.name,'</h2>\n  <div class="restaurant-content__thumbnail">\n    <img src="').concat(c.BASE_IMAGE_URL,"/medium/").concat(t.pictureId,'" alt="').concat(t.name,'" />\n  </div>\n  <div class="restaurant-content__info">\n    <h3>Address</h3>\n    <p>').concat(t.address,", ").concat(t.city,"</p>\n    <h3>Description</h3>\n    <p>").concat(t.description,'</p>\n    <h3>Food Menu</h3>\n    <div class="menu">\n      ').concat(e.map((function(n){return"\n          <h4>".concat(n.name,"</h4>\n          ")})).join(""),'\n    </div>\n    <h3>Drink Menu</h3>\n    <div class="menu">\n      ').concat(r.map((function(n){return"\n          <h4>".concat(n.name,"</h4>\n          ")})).join(""),'\n    </div>\n    <div id="add-review"></div>\n    <h3>Review</h3>\n    ').concat(a.map((function(n){return'\n        <div class="review">\n          <h3>'.concat(n.name,"</h3>\n          <p>").concat(n.review,"</p>\n          <small>Posted on: ").concat(n.date,"</small>\n        </div>\n      ")})).join(""),"\n  </div>\n")},h=function(n){return'\n  <article class="restaurant-list__item">\n    <figure class="restaurant-figure">\n      <img class="lazyload" data-src="'.concat(c.BASE_IMAGE_URL,"/small/").concat(n.pictureId,'" alt="').concat(n.name,'" />\n    </figure>\n    <div class="restaurant-content">\n      <div class="restaurant-content__text">\n        <p class="rating">⭐️ <span>').concat(n.rating,'</span></p>\n        <p class="location">Location: ').concat(n.city,'</p>\n      </div>\n      <h3 class="restaurant-content__title">').concat(n.name||"-",'</h3>\n      <p class="restaurant-content__description">').concat(n.description,'</p>\n    </div>\n    <div class="restaurant-detail__btn">\n      <a href="',"/#/detail/".concat(n.id),'">Restaurant Detail</a>\n    </div>\n  </article>\n')},g=function(n){for(var t="",e=0;e<n;e+=1)t+='\n      <div class="skeleton-container">\n      <div class="skeleton-image">\n        <img src="./images/placeholder.png" alt="skeleton" />\n      </div>\n      <div class="skeleton-content">\n        <div class="skeleton-header"></div>\n        <div class="skeleton-desc"></div>\n        <div class="skeleton-desc"></div>\n        <div class="skeleton-desc"></div>\n      </div>\n    </div>\n    ';return t};function b(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function w(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){b(i,r,a,o,s,"next",n)}function s(n){b(i,r,a,o,s,"throw",n)}o(void 0)}))}}var _={render:function(){return w(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n    <h2 class="main__title">Best Restaurant List</h2>\n    <div class="content" id="restaurant">\n      <div id="restaurant-list" class="restaurant-list">\n        '.concat(g(6),'\n      </div>\n    </div>\n    <div class="restaurant-link">\n      <a href="#/restaurants">See All Restaurant</a>\n    </div>\n    '));case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return w(regeneratorRuntime.mark((function n(){var t,e,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.listRestaurants();case 2:t=n.sent,e=t.splice(0,6),(r=document.querySelector("#restaurant-list")).innerHTML="",e.forEach((function(n){r.innerHTML+=h(n)}));case 7:case"end":return n.stop()}}),n)})))()}},x=e(5);function y(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function k(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){y(i,r,a,o,s,"next",n)}function s(n){y(i,r,a,o,s,"throw",n)}o(void 0)}))}}var R=c.DATABASE_NAME,E=c.DATABASE_VERSION,P=c.OBJECT_STORE_NAME,S=Object(x.a)(R,E,{upgrade:function(n){n.createObjectStore(P,{keyPath:"id"})}}),A={getRestaurant:function(n){return k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,S;case 4:return t.abrupt("return",t.sent.get(P,n));case 5:case"end":return t.stop()}}),t)})))()},getAllRestaurants:function(){return k(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S;case 2:return n.abrupt("return",n.sent.getAll(P));case 3:case"end":return n.stop()}}),n)})))()},putRestaurant:function(n){return k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.hasOwnProperty("id")){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,S;case 4:return t.abrupt("return",t.sent.put(P,n));case 5:case"end":return t.stop()}}),t)})))()},deleteRestaurant:function(n){return k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S;case 2:return t.abrupt("return",t.sent.delete(P,n));case 3:case"end":return t.stop()}}),t)})))()},searchRestaurants:function(n){var t=this;return k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllRestaurants();case 2:return e.abrupt("return",e.sent.filter((function(t){var e=(t.name||"-").toLowerCase().replace(/\s/g,""),r=n.toLowerCase().replace(/\s/g,"");return-1!==e.indexOf(r)})));case 3:case"end":return e.stop()}}),e)})))()}};function L(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var j=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,r;return t=n,(e=[{key:"getTemplate",value:function(){return'\n      <div class="search-container">\n        <input type="text" id="query" class="input-search" placeholder="Search favorite restaurants">\n      </div>\n      <h2 class="main__title">Your Favorites Restaurant</h2>\n      <div class="content" id="restaurant">\n        <div id="restaurant-list" class="restaurant-list">\n\n        </div>\n      </div>\n    '}},{key:"runWhenUserIsSearching",value:function(n){document.getElementById("query").addEventListener("keyup",(function(t){n(t.target.value)}))}},{key:"showFavoriteRestaurants",value:function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n=t.length?t.reduce((function(n,t){return n.concat(h(t))}),""):this._getEmptyRestaurantTemplate(),document.getElementById("restaurant-list").innerHTML=n,document.getElementById("restaurant-list").dispatchEvent(new Event("restaurants:updated"))}},{key:"_getEmptyRestaurantTemplate",value:function(){return'<div class="restaurant-list__item__not__found">No restaurant to show</div>'}}])&&L(t.prototype,e),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function T(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function O(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var B=function(){function n(t){var e=t.view,r=t.favoriteRestaurants;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=e,this._favoriteRestaurants=r,this._showFavoriteRestaurants()}var t,e,r,a,i;return t=n,(e=[{key:"_showFavoriteRestaurants",value:(a=regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._favoriteRestaurants.getAllRestaurants();case 2:t=n.sent,this._displayRestaurants(t);case 4:case"end":return n.stop()}}),n,this)})),i=function(){var n=this,t=arguments;return new Promise((function(e,r){var i=a.apply(n,t);function o(n){T(i,e,r,o,s,"next",n)}function s(n){T(i,e,r,o,s,"throw",n)}o(void 0)}))},function(){return i.apply(this,arguments)})},{key:"_displayRestaurants",value:function(n){this._view.showFavoriteRestaurants(n)}}])&&O(t.prototype,e),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function M(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function C(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var I=function(){function n(t){var e=t.favoriteRestaurants,r=t.view;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=r,this._listenToSearchRequestByUser(),this._favoriteRestaurants=e}var t,e,r,a,i;return t=n,(e=[{key:"_listenToSearchRequestByUser",value:function(){var n=this;this._view.runWhenUserIsSearching((function(t){n._searchRestaurants(t)}))}},{key:"_searchRestaurants",value:(a=regeneratorRuntime.mark((function n(t){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._latestQuery=t.trim(),!(this.latestQuery.length>0)){n.next=7;break}return n.next=4,this._favoriteRestaurants.searchRestaurants(this.latestQuery);case 4:e=n.sent,n.next=10;break;case 7:return n.next=9,this._favoriteRestaurants.getAllRestaurants();case 9:e=n.sent;case 10:this._showFoundRestaurants(e);case 11:case"end":return n.stop()}}),n,this)})),i=function(){var n=this,t=arguments;return new Promise((function(e,r){var i=a.apply(n,t);function o(n){M(i,e,r,o,s,"next",n)}function s(n){M(i,e,r,o,s,"throw",n)}o(void 0)}))},function(n){return i.apply(this,arguments)})},{key:"_showFoundRestaurants",value:function(n){this._view.showFavoriteRestaurants(n)}},{key:"latestQuery",get:function(){return this._latestQuery}}])&&C(t.prototype,e),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function U(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function q(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){U(i,r,a,o,s,"next",n)}function s(n){U(i,r,a,o,s,"throw",n)}o(void 0)}))}}var D=new j;function H(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function z(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){H(i,r,a,o,s,"next",n)}function s(n){H(i,r,a,o,s,"throw",n)}o(void 0)}))}}var N={init:function(n){var t=this;return z(regeneratorRuntime.mark((function e(){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.likeButtonContainer,a=n.restaurant,i=n.favoriteRestaurants,t._likeButtonContainer=r,t._restaurant=a,t._favoriteRestaurants=i,e.next=6,t._renderButton();case 6:case"end":return e.stop()}}),e)})))()},_renderButton:function(){var n=this;return z(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n._restaurant.id,t.next=3,n._isRestaurantExist(e);case 3:if(!t.sent){t.next=7;break}n._renderLiked(),t.next=8;break;case 7:n._renderLike();case 8:case"end":return t.stop()}}),t)})))()},_isRestaurantExist:function(n){var t=this;return z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._favoriteRestaurants.getRestaurant(n);case 2:return r=e.sent,e.abrupt("return",!!r);case 4:case"end":return e.stop()}}),e)})))()},_renderLike:function(){var n=this;this._likeButtonContainer.innerHTML='\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n    <i class="fa fa-heart-o" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._favoriteRestaurants.putRestaurant(n._restaurant);case 2:n._renderButton();case 3:case"end":return t.stop()}}),t)}))))},_renderLiked:function(){var n=this;this._likeButtonContainer.innerHTML='\n  <button aria-label="unlike this restaurant" id="likeButton" class="like">\n    <i class="fa fa-heart" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._favoriteRestaurants.deleteRestaurant(n._restaurant.id);case 2:n._renderButton();case 3:case"end":return t.stop()}}),t)}))))}};function F(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function W(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){F(i,r,a,o,s,"next",n)}function s(n){F(i,r,a,o,s,"throw",n)}o(void 0)}))}}function Q(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function V(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){Q(i,r,a,o,s,"next",n)}function s(n){Q(i,r,a,o,s,"throw",n)}o(void 0)}))}}var J={"/":_,"/list-restaurant":_,"/favorite":{render:function(){return q(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",D.getTemplate());case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return q(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:new B({view:D,favoriteRestaurants:A}),new I({view:D,favoriteRestaurants:A});case 2:case"end":return n.stop()}}),n)})))()}},"/detail/:id":{render:function(){return W(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n      <div id="restaurant" class="content"></div>\n      <div id="likeButtonContainer"></div>\n    ');case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return W(regeneratorRuntime.mark((function n(){var t,e,r,a,i,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.parseActiveUrlWithoutCombiner(),n.next=3,v.detailRestaurant(t.id);case 3:e=n.sent,r=e.restaurant,a=r.menus,i=a.foods,o=a.drinks,s=r.customerReviews,document.querySelector("#restaurant").innerHTML+=m({restaurant:r,foods:i,drinks:o,customerReviews:s}),N.init({likeButtonContainer:document.querySelector("#likeButtonContainer"),favoriteRestaurants:A,restaurant:{id:r.id,name:r.name,description:r.description,pictureId:r.pictureId,rating:r.rating,city:r.city}}),window.scroll({top:0,behavior:"smooth"});case 11:case"end":return n.stop()}}),n)})))()}},"/restaurants":{render:function(){return V(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n      <h2 class="main__title">All Available Restaurant</h2>\n      <div class="content" id="restaurant">\n        <div id="restaurant-list" class="restaurant-list">\n          '.concat(g(20),"\n        </div>\n      </div>\n    "));case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return V(regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.listRestaurants();case 2:t=n.sent,(e=document.querySelector("#restaurant-list")).innerHTML="",t.forEach((function(n){e.innerHTML+=h(n)}));case 6:case"end":return n.stop()}}),n)})))()}}};function G(n,t,e,r,a,i,o){try{var s=n[i](o),u=s.value}catch(n){return void e(n)}s.done?t(u):Promise.resolve(u).then(r,a)}function Y(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var K=function(){function n(t){var e=t.button,r=t.drawer,a=t.content;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._button=e,this._drawer=r,this._content=a,this._initialAppShell()}var t,e,r,a,i;return t=n,(e=[{key:"_initialAppShell",value:function(){s.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(a=regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.parseActiveUrlWithCombiner(),e=J[t],n.next=4,e.render();case 4:return this._content.innerHTML=n.sent,n.next=7,e.afterRender();case 7:document.querySelector("#skip-to-content").addEventListener("click",(function(n){n.preventDefault(),document.querySelector("#main-content").focus()}));case 9:case"end":return n.stop()}}),n,this)})),i=function(){var n=this,t=arguments;return new Promise((function(e,r){var i=a.apply(n,t);function o(n){G(i,e,r,o,s,"next",n)}function s(n){G(i,e,r,o,s,"throw",n)}o(void 0)}))},function(){return i.apply(this,arguments)})}])&&Y(t.prototype,e),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),X=(e(1),e(11),new K({button:document.querySelector("#hamburger"),drawer:document.querySelector("#drawer"),content:document.querySelector("#main-content")}));window.addEventListener("hashchange",(function(){X.renderPage()})),window.addEventListener("load",(function(){X.renderPage(),o()}))}]);